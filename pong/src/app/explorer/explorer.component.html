<p-scrollPanel [style]="{'width': '100%'}">
  <p-tree [value]="files" *ngIf="files.length > 0" selectionMode="single" (onNodeExpand)="nodeExpand($event)"
          (dblclick)="nodeDoubleClick()" (onNodeSelect)="nodeSelect($event)" (onNodeContextMenuSelect)="nodeSelect($event)" [loading]="loading" [contextMenu]="contextMenu"></p-tree>
</p-scrollPanel>


<p-contextMenu #contextMenu [model]="menu"></p-contextMenu>

<p-confirmDialog #inputTextDialog key="inputText">
  <ng-template pTemplate="header">
    <div style="display: flex; flex-direction: column; width: 100%">
      <h3 style="margin: 0 0 1.5rem">Nouveau {{newWhat}}</h3>
      <input (keyup.enter)="inputTextDialog.accept()" type="text" pInputText [(ngModel)]="dialogValue" placeholder="Nom" />
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <button class="p-button-text" type="button" pButton icon="pi pi-times" label="Annuler" (click)="inputTextDialog.reject()"></button>
    <button type="button" pButton icon="pi pi-check" label="CrÃ©er" (click)="inputTextDialog.accept()"></button>
  </ng-template>
</p-confirmDialog>

<p-confirmDialog #deleteDialog key="delete">
  <ng-template pTemplate="header">
    <div style="display: flex; flex-direction: column; width: 100%">
      <p style="display: flex; flex-direction: row; align-items: center; margin: 0">
        <i class="pi pi-exclamation-triangle" style="font-size: 1.5em; margin-right: 1em;"></i>
        Voulez-vous supprimer&nbsp;<b>{{selectedNode.label}}</b>&nbsp;?</p>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <button class="p-button-text" type="button" pButton icon="pi pi-times" label="Annuler" (click)="deleteDialog.reject()"></button>
    <button type="button" pButton icon="pi pi-trash" label="Supprimer" (click)="deleteDialog.accept()"></button>
  </ng-template>
</p-confirmDialog>

<p-toast></p-toast>
